@model PTC.Application.Dtos.OperacaoViewModel

<div class="modal-content">
    <div class="modal-header">
        <div class="row">
            <div class="col-12" style="text-align:start">
                <h3>
                    @Model.NomeVeiculo
                </h3>
                <sub>
                    <i class="fa fa-calendar-o" aria-hidden="true"></i> Cadastro: @Model.Cadastro
                </sub>
            </div>
        </div>
    </div>
    <div class="modal-body">
        <partial name="../Operacao/_Formulario.cshtml">
    </div>
</div>


@section scripts {
    <script type="text/javascript" src="~/js/Operacao.js"></script>

    <script type="text/javascript">
        $(document).ready(function () {

            //$("#imgUrl").on('change', function () {
            //    $("#imgLogo").attr($(this).val());
            //});

            $("#formVeiculo").attr('action', '@Url.Action("Alterar","Operacao")');
            Bind();
            factory('PUT', '@Url.Action("ObterSelectList","Marcas")');
        });

        function Bind() {
            var form = [];
            var object = JSON.parse("@System.Text.Json.JsonSerializer.Serialize(Model)".replace(/&quot;/g, '"'));
            var form = document.forms[0];

            $(form.querySelector('input[name="NomeVeiculo"]')).val(object.NomeVeiculo);
            $(form.querySelector('input[name="ModeloVeiculo"]')).val(object.ModeloVeiculo);
            $(form.querySelector('input[name="km"]')).val(object.km);
            $(form.querySelector('input[name="ValorCompra"]')).val(object.ValorCompra);
            $(form.querySelector('input[name="ValorTabela"]')).val(object.ValorTabela);
            $(form.querySelector('input[name="ValorRevenda"]')).val(object.ValorRevenda);
            $(form.querySelector('input[name="DataFabricacaoVeiculo"]')).val(object.DataFabricacaoVeiculo);
            $(form.querySelector('input[name="Logradouro"]')).val(object.Logradouro);
            $(form.querySelector('input[name="TipoPagamentoAquisicaoId"]')).val(object.TipoPagamentoAquisicaoId);
            $(form.querySelector('input[name="TipoPagamentoRevendaId"]')).val(object.TipoPagamentoRevendaId);
            $(form.querySelector('input[name="ProprietarioId"]')).val(object.ProprietarioId);
            $(form.querySelector('input[name="CompradorId"]')).val(object.CompradorId);
        }

    </script>

}